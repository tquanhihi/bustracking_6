<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>SSB 1.0 - Dashboard</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="style.css">
  <!-- Leaflet CSS for map rendering -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />
</head> 
<body>
  <div class="sidebar" id="left-sidebar">
    <h2>SSB 1.0</h2>
    <ul id="main-nav">
      <!-- Quáº£n lÃ½ -->
  <!-- === QUáº¢N LÃ === -->          
  <li class="manager-only" data-page="m-drivers">ğŸ‘¨â€âœˆï¸ <span>Quáº£n lÃ½ TÃ i xáº¿</span></li> 
  <li class="manager-only" data-page="m-parents">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ <span>Quáº£n lÃ½ Phá»¥ huynh</span></li>
  <li class="manager-only" data-page="m-dashboard">ğŸ“Š <span>Tá»•ng quan há»‡ thá»‘ng</span></li>
  <li class="manager-only" data-page="m-schedules">ğŸ—“ï¸ <span>Lá»‹ch trÃ¬nh xe</span></li>
  <li class="manager-only" data-page="m-routes">ğŸ§­ <span>Tuyáº¿n Ä‘Æ°á»ng</span></li>
  <li class="manager-only" data-page="m-buses">ğŸšŒ <span>Quáº£n lÃ½ Xe buÃ½t</span></li>
  <li class="manager-only" data-page="m-tracking">ğŸ“ <span>Theo dÃµi vá»‹ trÃ­ xe</span></li>
  <li class="manager-only" data-page="m-messages">ğŸ’¬ <span>Tin nhn</span></li>

  <!-- === TÃ€I Xáº¾ === -->
  <li class="driver-only" data-page="d-schedules">ğŸ“… <span>Lá»‹ch lÃ m viá»‡c</span></li>
  <li class="driver-only" data-page="d-users">ğŸ‘¨â€ğŸ“ <span>Danh sÃ¡ch há»c sinh</span></li>
  <li class="driver-only" data-page="d-reports">âœ… <span>BÃ¡o cÃ¡o Ä‘Ã³n / tráº£</span></li>
  <li class="driver-only" data-page="d-messages">âš ï¸ <span>Cáº£nh bÃ¡o sá»± cá»‘</span></li>

  <!-- === PHá»¤ HUYNH === -->
  <li class="parent-only" data-page="p-tracking">ğŸšŒ <span>Theo dÃµi xe cá»§a con</span></li>
  <li class="parent-only" data-page="p-messages">ğŸ”” <span>Xe Ä‘áº¿n gáº§n</span></li>
  <li class="parent-only" data-page="p-reports">ğŸš¨ <span>Trá»… chuyáº¿n</span></li>
    </ul>
    <button class="logout-btn" onclick="logout()">ÄÄƒng xuáº¥t</button>
  </div>

  <div class="main-content" id="main-content-area">
    <!-- Ná»™i dung chÃ­nh sáº½ chá»©a toÃ n bá»™ views (dashboard, schedules, routes, users, tracking, messages, reports) -->
    <!-- Copy giao diá»‡n tá»« báº£n demo vÃ o Ä‘Ã¢y -->
    <div class="app" id="app">
      <main class="main">
        <div class="container">
          <div class="mobile-top">
            <button class="open-sb" id="open-sb">â˜° Menu</button>
            <div style="font-weight:700">SSB 1.0</div>
            <div style="margin-left:auto;display:flex;gap:8px">
              <button class="btn ghost" id="btn-simulate">Táº¯t mÃ´ phá»ng</button>
              <button class="btn" id="btn-export">Táº£i HTML</button>
            </div>
          </div>

          <header class="top">
            <h1 id="page-title">Tá»•ng quan há»‡ thá»‘ng</h1>
            <div class="controls">
              <div class="chip" id="role-indicator">Quáº£n lÃ½</div>
              <div class="chip" id="time-indicator">Real-time</div>
            </div>
          </header>

          <div class="grid">
            <section> 
              <div class="card" id="page-content">
                <!-- Dashboard view -->
                <div id="m-dashboard-view">
                  <div style="display:flex;gap:12px;align-items:center">
                    <div style="flex:1">
                      <h3>Sá»‘ liá»‡u nhanh</h3>
                      <div style="display:flex;gap:10px;margin-top:8px">
                        <div style="flex:1;background:#f9fafb;padding:12px;border-radius:8px">
                          <div class="muted">Tá»•ng sá»‘ xe</div>
                          <div style="font-weight:700;font-size:20px" id="total-buses">0</div>
                        </div>
                        <div style="flex:1;background:#f9fafb;padding:12px;border-radius:8px">
                          <div class="muted">Xe Ä‘ang hoáº¡t Ä‘á»™ng</div>
                          <div style="font-weight:700;font-size:20px" id="running-buses">0</div>
                        </div>
                        <div style="flex:1;background:#f9fafb;padding:12px;border-radius:8px">
                          <div class="muted">Tin nháº¯n chá»</div>
                          <div style="font-weight:700;font-size:20px" id="pending-msg">0</div>
                        </div>
                      </div>
                    </div>
                    <div style="width:260px">
                      <h3>Lá»c nhanh</h3>
                      <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
                        <select id="filter-route"><option value="all">-- Chá»n tuyáº¿n --</option></select>
                        <select id="filter-status"><option value="all">-- Tráº¡ng thÃ¡i --</option><option value="running">Äang cháº¡y</option><option value="stopped">Dá»«ng</option></select>
                        <button class="btn" id="btn-apply">Ãp dá»¥ng</button>
                      </div>
                    </div>
                  </div>

                  <!-- React/Leaflet map root will be rendered inside the Tracking view -->

                  <!-- Load Leaflet JS (we will use plain Leaflet here, no React) -->
                  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

                  <!-- Initialize a plain Leaflet map inside #tracking-map when requested -->
                  <script>
                    (function(){
                      // Center near Saigon University (ÄH SÃ i GÃ²n) â€” demo coordinates
                      const defaultCenter = [10.7633, 106.6820];
                      let map = null;
                      const busMarkers = new Map();
                      const routeLayers = [];

                      function createMap() {
                        const container = document.getElementById('tracking-map');
                        if (!container) return null;
                        if (map) return map;
                        map = L.map('tracking-map', { scrollWheelZoom: false }).setView(defaultCenter, 14);
                        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                          attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                        }).addTo(map);
                        return map;
                      }

                      function ensureMapVisible() {
                        const m = createMap();
                        if (m) setTimeout(() => { try { m.invalidateSize(); } catch(e){} }, 120);
                        return m;
                      }

                      function setBuses(buses) {
                        const m = createMap();
                        if (!m) return;
                        buses.forEach(b => {
                          const key = String(b.id);
                          const lat = Number(b.lat);
                          const lon = Number(b.lon);
                          if (!lat || !lon) return;
                          if (busMarkers.has(key)) {
                            const mk = busMarkers.get(key);
                            mk.setLatLng([lat, lon]);
                            mk.setPopupContent(`<strong>${b.plate}</strong><br/>Tuyáº¿n: ${b.run}<br/>TÃ i xáº¿: ${b.driver}<br/>Tráº¡ng thÃ¡i: ${b.status}`);
                          } else {
                            const icon = L.divIcon({ className: 'bus-icon', html: 'ğŸšŒ', iconSize: [28,28], iconAnchor: [14,14] });
                            const mk = L.marker([lat, lon], { icon }).addTo(m);
                            mk.bindPopup(`<strong>${b.plate}</strong><br/>Tuyáº¿n: ${b.run}<br/>TÃ i xáº¿: ${b.driver}<br/>Tráº¡ng thÃ¡i: ${b.status}`);
                            busMarkers.set(key, mk);
                          }
                        });
                        // remove markers that are no longer present
                        Array.from(busMarkers.keys()).forEach(k => {
                          if (!buses.find(b => String(b.id) === k)) {
                            const mk = busMarkers.get(k); if (mk) m.removeLayer(mk); busMarkers.delete(k);
                          }
                        });
                      }

                      function setRoutes(routes) {
                        const m = createMap();
                        if (!m) return;
                        // clear existing
                        routeLayers.forEach(l => { try { m.removeLayer(l); } catch(e){} });
                        routeLayers.length = 0;
                        routes.forEach(r => {
                          if (!r.coords || !r.coords.length) return;
                          const poly = L.polyline(r.coords, { color: r.color || '#3388ff', weight: 4, opacity: 0.8 }).addTo(m);
                          routeLayers.push(poly);
                          if (Array.isArray(r.stops)) {
                            r.stops.forEach(s => {
                              // support stops as [lat, lng] or {lat, lng} or {lat, lon, label}
                              let latlng = null;
                              if (Array.isArray(s)) latlng = s;
                              else if (s && (s.lat !== undefined)) latlng = [s.lat, s.lng !== undefined ? s.lng : s.lon];
                              if (!latlng) return;
                              const stopMk = L.circleMarker(latlng, { radius:6, color:'#fff', fillColor:'#2b6cb0', fillOpacity:1 }).addTo(m);
                              stopMk.bindPopup((s && s.label) ? s.label : 'Tráº¡m');
                              routeLayers.push(stopMk);
                            });
                          }
                        });
                      }

                      // Expose API
                      window.ensureTrackingMap = ensureMapVisible;
                      window.trackingMap = {
                        ensure: ensureMapVisible,
                        setBuses,
                        setRoutes
                      };
                    })();
                  </script>
                  <hr style="margin:16px 0" />

                  <div style="display:flex;gap:12px">
                    <div style="flex:1">
                      <h3>Danh sÃ¡ch xe (mÃ´ phá»ng)</h3>
                      <div class="list" id="bus-list">
                        <!-- buses here -->
                      </div>
                    </div>
                    <aside style="width:360px">
                      <div class="card map">
                        <div style="display:flex;justify-content:space-between;align-items:center">
                          <div><strong>Map (placeholder)</strong><div class="muted" style="font-size:12px">Báº£n Ä‘á»“ táº¡m â€” tÃ­ch há»£p Google Maps/Mapbox khi backend sáºµn sÃ ng</div></div>
                          <div class="chip" id="realtime-chip">{ realtime }</div>
                        </div>
                        <div id="map-items" style="overflow:auto;flex:1;padding-top:6px"></div>
                      </div>

                      <div style="margin-top:12px" class="card">
                        <h3>Hoáº¡t Ä‘á»™ng gáº§n Ä‘Ã¢y</h3>
                        <div class="muted" id="activity-log" style="max-height:120px;overflow:auto"></div>
                      </div>
                    </aside>
                  </div>

                </div>

                <!-- Schedules -->
                <div id="m-schedules-view" class="hidden">
                  <h3>Lá»‹ch trÃ¬nh</h3>
                  <div class="muted">Táº¡o lá»‹ch tuáº§n/thÃ¡ng, phÃ¢n cÃ´ng tÃ i xáº¿ & xe</div>
                  <div style="margin-top:12px;display:flex;gap:8px;align-items:flex-start">
                    <div style="flex:2">
                      <div style="display:flex;align-items:center;gap:8px;margin-bottom:8px">
                        <button class="btn ghost" id="period-prev">â€¹ TrÆ°á»›c</button>
                        <div id="period-display" style="font-weight:700">Tuáº§n hiá»‡n táº¡i</div>
                        <button class="btn ghost" id="period-next">Sau â€º</button>
                        <!-- Period is fixed to week -->
                        <button class="btn" id="sched-edit-toggle" style="margin-left:8px">Chá»‰nh sá»­a</button>
                      </div>

                      <table>
                        <thead><tr><th>TÃ i xáº¿</th><th>Tuyáº¿n/Cháº¡y</th><th>Xe buÃ½t</th><th>Ca</th></tr></thead>
                        <tbody id="schedules-table">
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <!-- Routes -->
                <div id="m-routes-view" class="hidden">
                  <h3>Tuyáº¿n Ä‘Æ°á»ng</h3>
                  <div style="display:flex;gap:12px">
                    <div style="flex:1">
                      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;gap:8px">
                        <div class="muted">Danh sÃ¡ch Tuyáº¿n</div>
                        <input id="search-route" placeholder="TÃ¬m theo mÃ£ hoáº·c tÃªn" style="max-width:220px" />
                        <button class="btn" id="btn-add-route">ThÃªm Tuyáº¿n</button>
                      </div>
                      <table>
                        <thead><tr><th>MÃ£ tuyáº¿n</th><th>TÃªn tuyáº¿n</th><th>MÃ´ táº£</th><th>Thá»i gian (phÃºt)</th><th>HÃ nh Ä‘á»™ng</th></tr></thead>
                        <tbody id="routes-table"></tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <!-- Users -->
                <div id="d-users-view" class="hidden">
                  <h3>Há»c sinh / TÃ i xáº¿</h3>
                  <div style="display:flex;gap:12px">
                    <div style="flex:1">
                      <table>
                        <thead><tr><th>Loáº¡i</th><th>TÃªn</th><th>LiÃªn há»‡</th><th>HÃ nh Ä‘á»™ng</th></tr></thead>
                        <tbody id="users-table"></tbody>
                      </table>
                    </div>
                    <div style="width:320px">
                      <div class="card">
                        <h3>ThÃªm tÃ i xáº¿</h3>
                        <input id="driver-name" placeholder="TÃªn" />
                        <input id="driver-phone" placeholder="SÄT" />
                        <button class="btn" id="add-driver">ThÃªm</button>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Tracking -->
                <div id="m-tracking-view" class="hidden">
                  <h3>Theo dÃµi thá»i gian thá»±c</h3>
                  <div class="muted">Báº£n Ä‘á»“ hiá»ƒn thá»‹ vá»‹ trÃ­ â€” mÃ´ phá»ng báº±ng dá»¯ liá»‡u giáº£</div>
                  <div style="margin-top:12px; height:360px;" id="tracking-map" class="map"></div>
                </div>

                <!-- Messages -->
                <div id="m-messages-view" class="hidden">
                  <h3>Tin nháº¯n</h3>
                  <div style="display:flex;gap:12px">
                    <div style="flex:1">
                      <div class="card">
                        <div style="display:flex;gap:8px;align-items:center">
                          <input id="msg-to" placeholder="Gá»­i tá»›i (tÃ i xáº¿ / phá»¥ huynh)" />
                          <button class="btn" id="send-msg">Gá»­i</button>
                        </div>
                        <textarea id="msg-body" placeholder="Ná»™i dung tin nháº¯n" style="margin-top:8px"></textarea>
                      </div>
                    </div>
                    <div style="width:320px">
                      <div class="card">
                        <h3>Há»™p thÆ°</h3>
                        <div id="inbox" style="max-height:240px;overflow:auto"></div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Reports -->
                <div id="d-reports-view" class="hidden">
                  <h3>BÃ¡o cÃ¡o</h3>
                  <div class="muted">Thá»‘ng kÃª lá»‹ch sá»­, táº§n suáº¥t trá»…, bÃ¡o cÃ¡o sá»± cá»‘</div>
                  <div style="margin-top:10px">
                    <table>
                      <thead><tr><th>NgÃ y</th><th>Loáº¡i</th><th>Chi tiáº¿t</th></tr></thead>
                      <tbody id="reports-table"></tbody>
                    </table>
                  </div>
                </div>

                <div id="m-parents-view" class="hidden">
                  <h3>Quáº£n lÃ½ Phá»¥ huynh</h3>
                  <div style="display:flex;gap:12px">
                    <div style="flex:1">
                        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;gap:8px">
                          <div class="muted">Danh sÃ¡ch phá»¥ huynh</div>
                          <input id="search-parent" placeholder="TÃ¬m theo tÃªn hoáº·c mÃ£" style="max-width:180px" />
                          <button class="btn" id="btn-add-parent">ThÃªm phá»¥ huynh</button>
                        </div>
                      <table>
                        <thead>
                          <tr>
                            <th>MÃ£ ngÆ°á»i dÃ¹ng</th>
                            <th>Há» vÃ  tÃªn</th>
                            <th>TÃªn há»c sinh</th>
                            <th>SÄT</th>
                            <th>CCCD</th>
                            <th>Gmail</th>
                            <th>HÃ nh Ä‘á»™ng</th>
                          </tr>
                        </thead>
                        <tbody id="parents-table">
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
                <div id="m-drivers-view" class="hidden">
                  <h3>Quáº£n lÃ½ TÃ i xáº¿</h3>
                  <div style="display:flex;gap:12px">
                    <div style="flex:1">
                        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;gap:8px">
                          <div class="muted">Danh sÃ¡ch TÃ i xáº¿</div>
                          <input id="search-driver" placeholder="TÃ¬m theo tÃªn hoáº·c mÃ£" style="max-width:180px" />
                          <button class="btn" id="btn-add-driver">ThÃªm TÃ i xáº¿</button>
                        </div>
                      <table>
                        <thead>
                          <tr>
                            <th>MÃ£ TÃ i xáº¿</th>
                            <th>Há» vÃ  tÃªn</th>
                            <th>SÄT</th>
                            <th>Gmail</th>
                            <th>Tráº¡ng thÃ¡i</th>
                            <th>HÃ nh Ä‘á»™ng</th>
                          </tr>
                        </thead>
                        <tbody id="drivers-table">
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>

                <div id="m-buses-view" class="hidden">
                  <h3>Quáº£n lÃ½ Xe buÃ½t</h3>
                  <div style="display:flex;gap:12px">
                    <div style="flex:1">
                      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;gap:8px">
                        <div class="muted">Danh sÃ¡ch Xe buÃ½t</div>
                        <input id="search-bus" placeholder="TÃ¬m theo mÃ£ hoáº·c biá»ƒn sá»‘" style="max-width:180px" />
                        <button class="btn" id="btn-add-bus">ThÃªm Xe buÃ½t</button>
                      </div>
                      <table>
                        <thead>
                          <tr>
                            <th>MÃ£ xe</th>
                            <th>Biá»ƒn sá»‘</th>
                            <th>Tuyáº¿n cháº¡y</th>
                            <th>Tráº¡ng thÃ¡i</th>
                            <th>HÃ nh Ä‘á»™ng</th>
                          </tr>
                        </thead>
                        <tbody id="buses-table"></tbody>
                      </table>
                    </div>
                  </div>
                </div>

              </div>
            </section>
            <aside id="quick-actions-sidebar"> <div class="card">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>Quick actions</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn" id="action-assign">PhÃ¢n cÃ´ng tÃ i xáº¿</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn ghost" id="action-create-sched">Táº¡o lá»‹ch má»›i</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn ghost" id="action-send-alert">Gá»­i cáº£nh bÃ¡o</button>
Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  <div style="margin-top:12px" class="card">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>ThÃ´ng tin nhanh</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="muted">PhiÃªn báº£n UI: demo</div>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="muted">NgÃ´n ngá»¯: <span id="ui-lang">Tiáº¿ng Viá»‡t</span></div>
Â  Â  Â  Â  Â  Â  Â  </div>

Â  Â  Â  Â  Â  Â  Â  <div style="margin-top:12px" class="card">
Â  Â  Â  Â  Â  Â  Â  Â  <h3>Gá»£i Ã½</h3>
Â  Â  Â  Â  Â  Â  Â  Â  <div class="muted">Frontend nÃ y dÃ¹ng HTML/CSS/JS tÄ©nh. Backend sáº½ cung cáº¥p API cho realtime, auth vÃ  dá»¯ liá»‡u.</div>
Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  </aside>
          </div>

        </div>
      </main>
    </div>
  </div>

  <!-- Modal Structure -->
  <div id="form-modal" class="modal-overlay hidden">
    <div class="modal-content">
      <button class="modal-close" id="modal-close-btn">&times;</button>
      
      <!-- Driver Form -->
      <div id="driver-form-card" class="hidden">
        <h3 id="driver-form-title">ThÃªm / Sá»­a TÃ i xáº¿</h3>
        <div style="display:flex;flex-direction:column;gap:8px">
          <input id="dr-id" placeholder="MÃ£ TÃ i xáº¿ (tá»± Ä‘á»™ng)" disabled />
          <input id="dr-name" placeholder="Há» vÃ  tÃªn" />
          <div class="input-error" id="dr-name-error"></div>
          <input id="dr-phone" placeholder="SÄT" />
          <div class="input-error" id="dr-phone-error"></div>
          <input id="dr-email" placeholder="Gmail" />
          <div class="input-error" id="dr-email-error"></div>
          <select id="dr-status">
            <option value="active">Äang lÃ m viá»‡c</option>
            <option value="inactive">Ngá»«ng lÃ m viá»‡c</option>
          </select>
          <div style="display:flex;gap:8px;margin-top:12px">
            <button class="btn" id="dr-save">LÆ°u</button>
            <button class="btn ghost" id="dr-cancel">Há»§y</button>
          </div>
        </div>
      </div>

      <!-- Parent Form -->
      <div id="parent-form-card" class="hidden">
        <h3 id="parent-form-title">ThÃªm / Sá»­a Phá»¥ huynh</h3>
        <div style="display:flex;flex-direction:column;gap:8px">
          <input id="pa-id" placeholder="MÃ£ ngÆ°á»i dÃ¹ng (tá»± Ä‘á»™ng)" disabled />
          <input id="pa-name" placeholder="Há» vÃ  tÃªn" />
          <div class="input-error" id="pa-name-error"></div>
          <input id="pa-student-name" placeholder="TÃªn há»c sinh" />
          <div class="input-error" id="pa-student-name-error"></div>
          <input id="pa-phone" placeholder="SÄT" />
          <div class="input-error" id="pa-phone-error"></div>
          <input id="pa-cccd" placeholder="CCCD" />
          <div class="input-error" id="pa-cccd-error"></div>
          <input id="pa-email" placeholder="Gmail" />
          <div class="input-error" id="pa-email-error"></div>
          <div style="display:flex;gap:8px;margin-top:12px">
            <button class="btn" id="pa-save">LÆ°u</button>
            <button class="btn ghost" id="pa-cancel">Há»§y</button>
          </div>
        </div>
      </div>

      <!-- Bus Form -->
      <div id="bus-form-card" class="hidden">
        <h3 id="bus-form-title">ThÃªm / Sá»­a Xe buÃ½t</h3>
        <div style="display:flex;flex-direction:column;gap:8px">
          <input id="bus-id" placeholder="MÃ£ xe (tá»± Ä‘á»™ng)" disabled />
          <input id="bus-plate" placeholder="Biá»ƒn sá»‘ xe" />
          <div class="input-error" id="bus-plate-error"></div>
          <input id="bus-run" placeholder="Tuyáº¿n cháº¡y" />
          <div class="input-error" id="bus-run-error"></div>
          <select id="bus-status">
            <option value="active">Hoáº¡t Ä‘á»™ng</option>
            <option value="maintenance">Báº£o trÃ¬</option>
          </select>
          <div style="display:flex;gap:8px;margin-top:12px">
            <button class="btn" id="bus-save">LÆ°u</button>
            <button class="btn ghost" id="bus-cancel">Há»§y</button>
          </div>
        </div>
      </div>

      <!-- Route Form -->
      <div id="route-form-card" class="hidden">
        <h3 id="route-form-title">ThÃªm / Sá»­a Tuyáº¿n</h3>
        <div style="display:flex;flex-direction:column;gap:8px">
          <input id="route-id" placeholder="MÃ£ tuyáº¿n (tá»± Ä‘á»™ng)" disabled />
          <input id="route-name-input" placeholder="TÃªn tuyáº¿n" />
          <div class="input-error" id="route-name-input-error"></div>
          <textarea id="route-description" placeholder="MÃ´ táº£"></textarea>
          <div class="input-error" id="route-description-error"></div>
          <input id="route-duration" placeholder="Thá»i gian Æ°á»›c tÃ­nh (phÃºt)" />
          <div class="input-error" id="route-duration-error"></div>
          <div style="display:flex;gap:8px;margin-top:12px">
            <button class="btn" id="route-save">LÆ°u</button>
            <button class="btn ghost" id="route-cancel">Há»§y</button>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
